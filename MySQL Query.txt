DROP DATABASE IF EXISTS `E_Learning_DB`;
CREATE DATABASE IF NOT EXISTS `E_Learning_DB`;
USE `E_Learning_DB`;
CREATE TABLE IF NOT EXISTS `STUDENT`(
`STUDENT_ID` INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
`STUDENT_FIRST_NAME` VARCHAR(255) NOT NULL,
`STUDENT_LAST_NAME` VARCHAR(255) NOT NULL,
`STUDENT_EMAIL` VARCHAR(255) NOT NULL UNIQUE,
`STUDENT_PASSWORD` VARCHAR(255) NOT NULL,
`COLLEGE_NAME` VARCHAR(255) NOT NULL,
`DATE_OF_BIRTH` DATE NOT NULL

);
CREATE TABLE IF NOT EXISTS `ADMIN`(
`ADMIN_ID` INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
`ADMIN_EMAIL` VARCHAR(255) NOT NULL UNIQUE,
`ADMIN_PASSWORD` VARCHAR(255) NOT NULL

);
CREATE TABLE IF NOT EXISTS `INSTRUCTOR`(
`INSTRUCTOR_ID` INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
`INSTRUCTOR_FIRST_NAME` VARCHAR(255) NOT NULL,
`INSTRUCTOR_LAST_NAME` VARCHAR(255) NOT NULL,
`INSTRUCTOR_EMAIL` VARCHAR(255) NOT NULL UNIQUE,
`INSTRUCTOR_PASSWORD` VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS `COURSE`(
`COURSE_ID` INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
`COURSE_CODE` VARCHAR(255) NOT NULL UNIQUE,
`COURSE_TITLE` VARCHAR(255) NOT NULL, 
`COURSE_DESC` VARCHAR(255) DEFAULT NULL,
`COURSE_INSTRUCTOR` VARCHAR(255) NOT NULL,
`COURSE_PRICE` VARCHAR(255)

);
CREATE TABLE IF NOT EXISTS `PAYMENT`(
`PAYMENT_ID` INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
`STUDENT_ID` INT,
`COURSE_ID` INT,
`DATE` TIMESTAMP NOT NULL

);
CREATE TABLE IF NOT EXISTS `ENROLL`(
`ENROLL_ID` INT AUTO_INCREMENT NOT NULL PRIMARY KEY,
`STUDENT_ID` INT,
`COURSE_ID` INT,
`PAYMENT_ID` INT
);

ALTER TABLE `enroll` ADD CONSTRAINT `enroll_fk_1` FOREIGN KEY (`STUDENT_ID`) REFERENCES `student`(`STUDENT_ID`) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE `enroll` ADD CONSTRAINT `enroll_fk_2` FOREIGN KEY (`COURSE_ID`) REFERENCES `course`(`COURSE_ID`) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE `enroll` ADD CONSTRAINT `enroll_fk_3` FOREIGN KEY (`PAYMENT_ID`) REFERENCES `payment`(`PAYMENT_ID`) ON DELETE CASCADE ON UPDATE CASCADE;